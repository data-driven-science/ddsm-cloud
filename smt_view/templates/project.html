{% extends "base.html" %}

{% block headlinks %}

<link rel="stylesheet" type="text/css" href="http://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.css">

{% endblock %}

{% block navbarright %}
<div id="navbar" class="navbar-collapse collapse">
  <ul class="nav navbar-nav navbar-right">
    <li><a href="#">Settings</a></li>
  </ul>
  <form class="navbar-form navbar-right">
    <input type="text" class="form-control" placeholder="Search...">
  </form>
</div>
{% endblock %}

{% block content %}

<div class="container-fluid">

  <div class="row">
    <div class="col-sm-3 col-md-2 sidebar">
      <ul class="nav nav-sidebar">
        <li class="active"><a href="#">Records for {{ project.name }}<span class="sr-only">(current)</span></a></li>
      </ul>
    </div>

    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
      <h1 class="Records"></h1>
      <div class="table-responsive">

        <table class="table table-striped" id="tableid">
          <thead>
            <tr>
              <th>Label</th>
              <th>Reason</th>
              <th>Outcome</th>
              <th>Status</th>
              <th>Time Stamp</th>
              <th>Duration</th>
              <th>Tags</th>
            </tr>
          </thead>
          <tbody>
            {% for record in records %}
            <tr>
              <td>
                <a href="{{ url_for('record_view', id=record.id) }}">{{ record.label }}</a>
              </td>
              <td>{{ record.reason.split('\n', 1)[:50] }}</td>
              <td>{{ record.outcome.split('\n', 1)[:50] }}</td>
              <td>{{ r.status }}</td>
              <td>{{ r.timestamp }}</td>
              <td>{{ r.duration }}</td>
              <td>{{ r.tags }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>

      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
<script type="text/javascript" language="javascript" src="http://cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" language="javascript" src="http://cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.js"></script>

<script>
  $(document).ready(function() {
    $('#tableid').DataTable();
  } );
</script>

{% endblock %}
